{"version":3,"sources":["redux/dialogs-reducer.ts","redux/users-reducer.ts","components/Navbar/Navbar.module.css","api/api.tsx","reportWebVitals.ts","redux/sidebar-reducer.ts","redux/auth-reducer.ts","redux/AppReducer.ts","redux/redux-store.ts","components/Navbar/Navbar.tsx","components/Header/Header1.tsx","components/Header/HeaderContainer.tsx","components/login/loginForm.tsx","components/login/login.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","components/common/FormsControl/FormsComtrols.module.css","utils/validators/Validator.tsx","components/common/FormsControl/FormsComtrols.tsx","components/Header/Header1.module.css","redux/profile-reducer.ts"],"names":["SEND_MESSAGE","initialState","dialogs","id","v1","name","messages","message","newMessageBody","dialogsReducer","state","action","type","newMessage","asd","sendMessageCreatorAC","FOLlOW","UN_FOLlOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FETCHING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingImProgress","usersReducer","map","u","userId","followed","filter","followSuccess","unFollowSuccess","toggleIsFetching","toggleFollowingProgress","requestUsersTC","page","dispatch","a","usersAPI","getUsers","data","items","totalCount","followUnFollowFlow","apiMethod","actionCreator","resultCode","unFollowTC","follow","bind","followTC","unFollow","module","exports","instance","axios","create","withCredentials","baseURL","headers","get","then","response","delete","post","authAPI","me","login","email","password","rememberMe","logout","profileAPI","getProfile","getStatus","upDateStatus","status","put","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebar","sidebarReducer","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserDataTC","INITIALIZED_SUCCESS","initialized","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunk","window","Navbar","className","s","nav","item","to","activeClassName","link","active","Header","props","header","src","alt","loginBlock","onClick","logoutTC","HeaderContainer","this","React","Component","connector","connect","maxLength20","maxLengthCreator","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","validate","required","placeholder","component","Input","error","style","formSummaryError","loginTC","length","stopSubmit","_error","formData","withSuspense","Suspense","fallback","LinearProgress","DialogsContainer","lazy","ProfileContainer","UsersContainer","Settings","Music","News","App","initializeAppTC","path","render","promise","Promise","all","ReactDOM","StrictMode","document","getElementById","value","maxLength","Textarea","memo","input","meta","hasError","touched","formControl","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","newPostText","profile","newPost","stateCopy","push","console","log","addPostAC","updateNewPostTextAC","newText","setStatus","getUserProfileTC","getUserStatusTC","updateUserStatusTC"],"mappings":"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","file":"static/js/main.eb093cd7.chunk.js","sourcesContent":["import {v1} from \"uuid\";\r\nimport {ActionsTypes} from \"./Actions\";\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = '__SEND_MESSAGE';\r\n\r\nexport type DialogsType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type NewMessageType = {\r\n    newMessageBody: string\r\n}\r\n\r\n\r\nexport type MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\n// export type DialogsPageType = {\r\n//     dialogs: DialogsType[]\r\n//     messages: MessagesType[]\r\n//     newMessageBody: string\r\n// }\r\nexport  type DialogsInitialStateType = {\r\n    dialogs: DialogsType[]\r\n    messages: MessagesType[]\r\n    newMessageBody: string\r\n\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Andrey'},\r\n        {id: v1(), name: 'Sveta'},\r\n        {id: v1(), name: 'Sasha'},\r\n        {id: v1(), name: 'Ignat'},\r\n        {id: v1(), name: 'Ivan'},\r\n        {id: v1(), name: 'Pety'}\r\n    ],\r\n    messages: [\r\n        {id: v1(), message: 'how are you'},\r\n        {id: v1(), message: 'Hello'},\r\n        {id: v1(), message: 'Yo MazaFaka'},\r\n        {id: v1(), message: 'ProLead'},\r\n        {id: v1(), message: 'life is good'},\r\n        {id: v1(), message: 'PPPRew q '}\r\n    ],\r\n    newMessageBody: ''\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogsInitialStateType = initialState, action: ActionsTypes): DialogsInitialStateType => {\r\n    switch (action.type) {\r\n        // case UPDATE_NEW_MESSAGE_BODY : {\r\n        //     return {...state, newMessageBody: action.newBody}\r\n        // }\r\n        case SEND_MESSAGE: {\r\n            const newMessage = {id: v1(), message: action.newMessageBody}\r\n            const asd = [...state.messages, newMessage]\r\n            return {\r\n                ...state,\r\n                messages: asd\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n    // if (action.type === UPDATE_NEW_MESSAGE_BODY) {\r\n    //     let stateCopy = {...state,}\r\n    //     stateCopy.newMessageBody = action.newBody\r\n    //     return stateCopy\r\n    // } else if (action.type === SEND_MESSAGE) {\r\n    //     let body = state.newMessageBody\r\n    //     let stateCopy = {...state, messages: [...state.messages]}\r\n    //     stateCopy.newMessageBody = ''\r\n    //     stateCopy.messages.push({id: v1(), message: body})\r\n    //     return stateCopy\r\n    // }\r\n    //\r\n    // return state\r\n}\r\n\r\nexport const sendMessageCreatorAC = (newMessageBody: string) => {\r\n    return (\r\n        {\r\n            type: SEND_MESSAGE,\r\n            newMessageBody: newMessageBody\r\n        } as const\r\n    )\r\n}\r\n// export const updateNewMessageBodyCreatorAC = (newBody: string) => {\r\n//     return (\r\n//         {\r\n//             type: UPDATE_NEW_MESSAGE_BODY,\r\n//             newBody\r\n//         } as const\r\n//     )\r\n// }\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../api/api\";\r\n\r\nexport type UsersPropsType = {\r\n    name: string\r\n    id: string,\r\n    uniqueUrlName: string,\r\n    photos: {\r\n        small: string,\r\n        large: string\r\n    }\r\n    status: string,\r\n    followed: boolean,\r\n}\r\nexport type UsersPageType = {\r\n    users: UsersPropsType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingImProgress: string[]\r\n}\r\n\r\n\r\nconst FOLlOW = 'users/FOLlOW';\r\nconst UN_FOLlOW = 'users/UN_FOLlOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FETCHING_PROGRESS = 'users/TOGGLE_IS_FETCHING_PROGRESS'\r\n\r\n\r\nexport const initialState: UsersPageType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingImProgress: ['']\r\n}\r\n\r\n\r\ntype ActionTypes = ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unFollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUserCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleFollowingProgress>\r\n\r\n\r\nexport const usersReducer = (state = initialState, action: ActionTypes): UsersPageType => {\r\n    switch (action.type) {\r\n        case FOLlOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case UN_FOLlOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS : {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING  : {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FETCHING_PROGRESS : {\r\n            return {\r\n                ...state, followingImProgress: action.isFetching\r\n                    ? [...state.followingImProgress, action.userId]\r\n                    : state.followingImProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId: string) => ({type: FOLlOW, userId} as const)\r\nexport const unFollowSuccess = (userId: string) => ({type: UN_FOLlOW, userId} as const)\r\nexport const setUsers = (users: Array<UsersPropsType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setTotalUserCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: string) => ({\r\n    type: TOGGLE_IS_FETCHING_PROGRESS, isFetching, userId\r\n} as const)\r\n\r\n// ThunkCreator - ф-ия которая может принимать данные и return thunk\r\nexport const requestUsersTC = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUserCount(data.totalCount))\r\n\r\n}\r\n\r\nconst followUnFollowFlow = async (dispatch: Dispatch, userId: string, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\nexport const unFollowTC = (userId: string) => async (dispatch: Dispatch) => {\r\n\r\n    await followUnFollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), unFollowSuccess)\r\n}\r\nexport const followTC = (userId: string) => async (dispatch: Dispatch) => {\r\n\r\n    await followUnFollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), followSuccess)\r\n\r\n    // dispatch(toggleFollowingProgress(true, userId))\r\n    //\r\n    // let data = await apiMethod(userId)\r\n    // if (data.resultCode === 0) {\r\n    //     dispatch(actionCreator(userId))\r\n    // }\r\n    // dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__39uBs\",\"item\":\"Navbar_item__1-GkQ\",\"link\":\"Navbar_link__gRIBQ\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '8f40eedd-22e3-487d-b1f3-7d4b9e5d7f48'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(id: string) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unFollow(id: string) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n}\r\ntype AuthResponseType = {\r\n    data: {\r\n        id: number\r\n        login: string\r\n        email: string\r\n    }\r\n    'messages': string[]\r\n    'fieldsErrors': [],\r\n    'resultCode': number\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean,) {\r\n        return instance.post<AuthResponseType>(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => {\r\n                return response\r\n            })\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    upDateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    }\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {ActionsTypes} from \"./Actions\";\r\n\r\nexport type SidebarType = {}\r\n\r\nlet initialState = {\r\n    sidebar: {}\r\n}\r\nconst sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\r\n\r\n\r\n    return state\r\n}\r\nexport default sidebarReducer","import {ActionsTypes} from \"./Actions\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {AppThunkType} from \"./redux-store\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nexport type AuthInitialStatePropsType = {\r\n    userId: null | string\r\n    email: null | string\r\n    login: null | string\r\n    isAuth: boolean\r\n}\r\n\r\nexport let initialState: AuthInitialStatePropsType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nexport const authReducer = (state: AuthInitialStatePropsType = initialState, action: ActionsTypes): AuthInitialStatePropsType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA : {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId: null | string, login: null | string, email: null | string, isAuth: boolean) =>\r\n    ({type: SET_USER_DATA, payload: {userId, login, email, isAuth}} as const)\r\n\r\n\r\n//Thunk\r\n// async - асинхронная.\r\nexport const getAuthUserDataTC = (): AppThunkType => async (dispatch) => {\r\n\r\n    let data = await authAPI.me()\r\n\r\n    if (data.resultCode === 0) {\r\n        let {id, login, email} = data.data\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n    // return  authAPI.me()\r\n    //      .then(data => {\r\n    //          if (data.resultCode === 0) {\r\n    //              let {id, login, email} = data.data\r\n    //              dispatch(setAuthUserData(id, login, email, true))\r\n    //          }\r\n    //      })\r\n\r\n}\r\n\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean): AppThunkType => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataTC())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}) as ActionsTypes)\r\n    }\r\n\r\n}\r\nexport const logoutTC = (): AppThunkType => async (dispatch) => {\r\n\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n\r\n}","import {getAuthUserDataTC} from \"./auth-reducer\";\r\nimport {AppThunkType} from \"./redux-store\";\r\nimport {ActionsTypes} from \"./Actions\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\ntype initialStateType = {\r\n    initialized: boolean\r\n}\r\nexport let initialState: initialStateType = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: initialStateType = initialState, action: ActionsTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS : {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS} as const)\r\n\r\n\r\n//Thunk\r\n// async - асинхронная.\r\nexport const initializeAppTC = (): AppThunkType => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDataTC())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n    //\r\n    // dispatch(initializedSuccess(false))\r\n}\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunk, {ThunkAction} from \"redux-thunk\"\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport {ActionsTypes} from \"./Actions\";\r\nimport { appReducer } from \"./AppReducer\";\r\n\r\n\r\nexport type AppStateType = ReturnType<typeof reducers>\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n// общая типизация Thunks\r\nexport type AppThunkType<ReturnType = void> = ThunkAction<ReturnType, AppStateType, unknown, ActionsTypes>\r\n\r\n// applyMiddleware() - store  прими промежуточные слои (для запуска thunk)\r\nexport const store = createStore(reducers, applyMiddleware(thunk))\r\n\r\n// @ts-ignore\r\nwindow.store = store","import React from \"react\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./Navbar.module.css\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={'/profile'} activeClassName={s.link}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={ '/users'} activeClassName={s.link}>Users</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to={'/dialogs'} activeClassName={s.link}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/News'} activeClassName={s.link}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/Music'} activeClassName={s.link}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/Settings'} activeClassName={s.link}>Settings</NavLink>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar;","import React from 'react'\r\nimport s from './Header1.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\nimport {HeaderPropsType} from \"./HeaderContainer\";\r\n\r\nconst Header = (props: HeaderPropsType) => {\r\n    return <header className={s.header}>\r\n        <img\r\n            src='https://www.meme-arsenal.com/memes/48591d901e6f0a3d64b5f822163258d6.jpg' alt={'s'}/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logoutTC}>log out</button></div>\r\n                : <NavLink to={'/login'}>login</NavLink>\r\n            }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport Header from './Header1'\r\nimport {connect, ConnectedProps} from 'react-redux';\r\nimport {logoutTC} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n// type HeaderContainerType = {\r\n//     isAuth: boolean;\r\n//     login: string | null;\r\n//     setAuthUserData: (id: string, email: string, login: string) => void;\r\n//\r\n// };\r\n// type HeaderContainerPropsType = {\r\n//     getAuthUserData : ()=>void\r\n// }\r\nclass HeaderContainer extends React.Component<HeaderPropsType> {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nconst connector = connect(mapStateToProps, {logoutTC})\r\nexport default connector(HeaderContainer)\r\nexport type HeaderPropsType = ConnectedProps<typeof connector>","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControl/FormsComtrols\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/Validator\";\r\nimport style from './../common/FormsControl/FormsComtrols.module.css'\r\n\r\n\r\nexport  type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\nconst maxLength20 = maxLengthCreator(40)\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field validate={[required, maxLength20]}\r\n                       placeholder={'Login'} name={'email'}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field validate={[required, maxLength20]}\r\n                       placeholder={'password'}\r\n                       name={'password'}\r\n                       type={'password'}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={'input'}\r\n                       name={'rememberMe'}\r\n                       type={'checkbox'}/> remember me\r\n            </div>\r\n            {props.error && <div className={style.formSummaryError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {FormDataType, LoginReduxForm} from \"./loginForm\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {loginTC} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n// type LoginType = MapDispatchToProps & MapStateToProps\r\n\r\nconst Login: React.FC<Props> = props => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.loginTC(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst MapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nconst connector = connect(MapStateToProps, {loginTC})\r\nexport default connector(Login)\r\ntype Props = ConnectedProps<typeof connector>","import React, {ComponentType} from \"react\";\r\nimport {LinearProgress} from \"@material-ui/core\";\r\n\r\nexport function withSuspense<T>(Component: ComponentType<T>) {\r\n    return (props: any) => {\r\n        return <React.Suspense fallback={<div><LinearProgress/></div>}><Component {...props}/></React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {Route} from \"react-router-dom\"\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from \"./components/login/login\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {initializeAppTC} from \"./redux/AppReducer\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\nimport {LinearProgress} from \"@material-ui/core\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/ProFile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n    componentDidMount() {\r\n        this.props.initializeAppTC()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <LinearProgress/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content '>\r\n                    <Route path={'/dialogs'} render={withSuspense(DialogsContainer)}/>\r\n                    <Route path={'/profile/:userId?'} render={withSuspense(ProfileContainer)}/>\r\n                    <Route path={'/users'} render={withSuspense(UsersContainer)}/>\r\n                    <Route path={'/news'} render={withSuspense(News)}/>\r\n                    <Route path={'/music'} render={withSuspense(Music)}/>\r\n                    <Route path={'/settings'} render={withSuspense(Settings)}/>\r\n                    <Route path={'/login'} render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nconst connector = connect(mapStateToProps, {initializeAppTC})\r\nexport default connector(App)\r\nexport type AppPropsType = ConnectedProps<typeof connector>\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport {store} from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport App from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\n\r\n// export let rerenderEntireTree = () => {\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsComtrols_formControl__3IJ1o\",\"error\":\"FormsComtrols_error__2v3u4\",\"formSummaryError\":\"FormsComtrols_formSummaryError__1QDz2\"};","import React from \"react\";\r\n\r\nexport const required = (value: any) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n","import React from \"react\";\r\nimport style from './FormsComtrols.module.css'\r\n\r\n\r\n// const FormControl = ({input, meta, child, ...props}: any) => {\r\n//     const hasError = meta.touched && meta.error\r\n//     return (\r\n//         <div className={style.formControl + ' ' + (hasError ? style.error : \"\")}>\r\n//             <div>\r\n//                 {props.child}\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\nexport const Textarea = React.memo(({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={style.formControl + ' ' + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                <textarea {...input}{...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport const Input = React.memo(({input, meta, ...props}: any) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={style.formControl + ' ' + (hasError ? style.error : \"\")}>\r\n            <div>\r\n                <input {...input}{...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n})","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header1_header__1p8p4\",\"loginBlock\":\"Header1_loginBlock__BDx3R\"};","import {v1} from \"uuid\";\r\nimport {ActionsTypes} from \"./Actions\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../api/api\";\r\n\r\n\r\nexport type PostsType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\n\r\ntype PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type ProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n    status: string\r\n}\r\n\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\n\r\ntype InitialStateType = {\r\n    posts: PostsType[]\r\n    newPostText: string\r\n    profile: null | ProfileType\r\n    status: string\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    posts: [\r\n        {id: v1(), message: 'Hi, how are you?', likesCount: 10},\r\n        {id: v1(), message: `It's my first post`, likesCount: 23},\r\n        {id: v1(), message: `It's my first post`, likesCount: 23},\r\n        {id: v1(), message: `It's my first post`, likesCount: 23},\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: v1(),\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            let stateCopy = {...state, posts: [...state.posts]}\r\n            stateCopy.posts.push(newPost)\r\n            console.log(stateCopy)\r\n            return stateCopy\r\n        }\r\n        // case UPDATE_NEW_POST_TEXT : {\r\n        //     return {...state, newPostText: action.newText}\r\n        // }\r\n        case SET_USER_PROFILE : {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS : {\r\n            return {...state, status: action.status}\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostAC = (newPostText: string) => ({type: ADD_POST, newPostText}) as const\r\nexport const updateNewPostTextAC = (newText: string) => ({type: UPDATE_NEW_POST_TEXT, newText: newText}) as const\r\nexport const setUserProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile}) as const\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const)\r\n\r\n\r\nexport const getUserProfileTC = (userId: number) => async (dispatch: Dispatch) => {\r\n\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n\r\n}\r\n\r\nexport const getUserStatusTC = (userId: number) => async (dispatch: Dispatch) => {\r\n\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateUserStatusTC = (status: string) => async (dispatch: Dispatch) => {\r\n\r\n    let response = await profileAPI.upDateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(response.data))\r\n    }\r\n\r\n}\r\n\r\n\r\n"],"sourceRoot":""}